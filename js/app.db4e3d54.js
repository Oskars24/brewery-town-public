(function(e){function t(t){for(var a,r,c=t[0],s=t[1],d=t[2],u=0,f=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},i=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/brewery-town-public/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0220":function(e,t,n){"use strict";n("ff19")},"5f35":function(e,t,n){e.exports={publicPath:"/brewery-town-public/"}},a460:function(e,t,n){},adfc:function(e,t,n){"use strict";n("a460")},b3df:function(e,t,n){"use strict";n("fb5c")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),o={id:"app"};function i(e,t){var n=Object(a["y"])("router-view");return Object(a["q"])(),Object(a["d"])("div",o,[Object(a["g"])(n)])}n("b3df");const r={};r.render=i;var c=r,s=n("6c02");function d(e,t,n,o,i,r){var c=Object(a["y"])("new-scene");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["g"])(c)])}var l=n("d4ec"),u=n("262e"),f=n("2caf"),v=n("9ab4"),p=n("ce1f"),b=Object(a["F"])("data-v-549912f1");Object(a["u"])("data-v-549912f1");var y={class:"container"},m={class:"scene",ref:"sceneRef"};Object(a["r"])();var w=b((function(e,t,n,o,i,r){return Object(a["q"])(),Object(a["d"])("div",y,[Object(a["g"])("div",m,null,512)])})),g=(n("a623"),n("7db0"),n("4160"),n("caad"),n("45fc"),n("b0c0"),n("07ac"),n("2532"),n("159b"),n("5a89")),h=n("4721"),O=n("34ad"),j=n("32d9"),x=n("93e9"),K=n("f7dd"),S={setup:function(){var e,t=new g["Lb"]({antialias:!0}),n=new g["qb"],o=new g["k"],i=new g["ob"],r={},c={},s={},d={},l=Object(a["w"])(null),u=function e(t,n,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,c=n.find((function(e){return e.name===a})),d=t.clipAction(c);d.timeScale=o,s["Robot"][2].isPlaying&&(r=0,setTimeout((function(){e(t,n,a,o,!0,1)}),1e3*s["Robot"][2].duration)),c.isPlaying=!0,i?d.setEffectiveWeight(r).play():(d.setLoop(g["L"]),d.reset().setEffectiveTimeScale(.5).setEffectiveWeight(1).play())},f=function(e,t,n){var a=t.find((function(e){return e.name===n})),o=e.clipAction(a);o.stop()},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.every((function(e){return!0===d[e]}));if(t){var a=t.every((function(e){return!1===d[e]||void 0===d[e]}));return n&&a}return n},p=function(e){return e.some((function(e){return!0===d[e]}))},b=function(){var e=new g["Ib"](r["Robot"].position.x,r["Robot"].position.y,r["Robot"].position.z),t=5;e.y+=t;var n=.18,a=6,o=0,c=new g["Ib"];v(["ShiftLeft"])&&(n*=2),v(["KeyW"],["KeyA","KeyS","KeyD"])?(o=180,c.z=-1*n,e.z+=-1*n):v(["KeyA"],["KeyW","KeyS","KeyD"])?(o=-90,c.x=-1*n,e.x+=-1*n):v(["KeyS"],["KeyW","KeyA","KeyD"])?(o=0,c.z=1*n,e.z+=1*n):v(["KeyD"],["KeyW","KeyA","KeyS"])?(o=90,c.x=1*n,e.x+=1*n):v(["KeyW","KeyA"])?(o=-135,c.x=-1*n,c.z=-1*n,e.x+=-1*n,e.z+=-1*n):v(["KeyW","KeyD"])?(o=135,c.x=1*n,c.z=-1*n,e.x+=1*n,e.z+=-1*n):v(["KeyS","KeyA"])?(o=-45,c.x=-1*n,c.z=1*n,e.x+=-1*n,e.z+=1*n):v(["KeyS","KeyD"])&&(o=45,c.x=1*n,c.z=1*n,e.x+=1*n,e.z+=1*n),i.set(e,new g["Ib"](0,-1,0));var s=i.intersectObject(r["floor"],!0);return s[0]&&s[0].distance-t<a?(c.y=-s[0].distance+t,{move:c,angle:o}):(c.x=0,c.y=0,c.z=0,{move:c,angle:o})},y=function(){if(c["Robot"]){if(p(["KeyW","KeyA","KeyS","KeyD"])){var e=1;v(["ShiftLeft"])&&(e=2),u(c["Robot"],s["Robot"],"Robot_Running",e)}else f(c["Robot"],s["Robot"],"Robot_Running");p(["Space"])&&u(c["Robot"],s["Robot"],"Robot_Jump",1,!1)}},m=function(e){d[e.code]=!1,y()},w=function(e){d[e.code]=!0,y()};return window.addEventListener("keydown",w),window.addEventListener("keyup",m),Object(a["o"])((function(){var a,i=l.value;e=new g["cb"](60,i.clientWidth/i.clientHeight,1,1e3),e.position.set(55,55,55),t.setSize(i.clientWidth,i.clientHeight),i.appendChild(t.domElement);var u=new O["a"];u.load("/peach_castle/scene.gltf",(function(e){var t=e.scene;n.add(t),e.animations.length&&(a=new g["b"](t),a.clipAction(e.animations[0]).play())}),void 0,(function(e){console.error(e)})),u.load("/Robot.gltf",(function(e){var t=e.scene;t.userData.name="Robot",n.add(t),t.position.set(5,12,0),r[t.userData.name]=t,s[t.userData.name]=e.animations,s[t.userData.name].forEach((function(e){e.isPlaying=!1})),c[t.userData.name]=new g["b"](t),c[t.userData.name].addEventListener("finished",(function(e){e.action._clip.isPlaying=!1,console.log("animacja skonczona")}))}),void 0,(function(e){console.error(e)})),u.load("/peach_castle/floor.gltf",(function(e){var t=e.scene;t.userData.name="floor",t.visible=!1,n.add(t),r[t.userData.name]=t}),void 0,(function(e){console.error(e)}));var f=new g["t"](16777215,2236962,1),v=new g["m"](16777215,4);v.position.set(10,10,10),n.add(f,v);var p=new h["a"](e,t.domElement);p.enableDamping=!0,p.dampingFactor=.05,p.screenSpacePanning=!1,p.minDistance=10,p.maxDistance=500;var y=new j["a"](t),m=new x["a"](n,e);y.addPass(m);var w=new K["a"](window.innerWidth*t.getPixelRatio(),window.innerHeight*t.getPixelRatio());y.addPass(w);var S=function(){t.render(n,e)},A=function e(){for(var t in requestAnimationFrame(e),"undefined"!==typeof a&&a.update(o.getDelta()),c)c[t].update(o.getDelta());if(Object.values(d).includes(!0)){var n=b();r["Robot"].position.add(n.move),r["Robot"].rotation.y=n.angle*(Math.PI/180)}p.update(),S()};A()})),Object(a["p"])((function(){window.removeEventListener("keydown",w),window.removeEventListener("keyup",m)})),{camera:e,renderer:t,scene:n,clock:o,raycaster:i,objects:r,mixers:c,animations:s,pressedKeys:d,sceneRef:l,playAnimation:u,stopAnimation:f,testAllKeys:v,testAnyKeys:p,checkKeysState:b,robotRunning:y,keyUp:m,keyDown:w}}};n("0220");S.render=w,S.__scopeId="data-v-549912f1";var A=S,D=Object(a["F"])("data-v-5afb34c0");Object(a["u"])("data-v-5afb34c0");var R={class:"container"},P={class:"preloader"},z=Object(a["f"])(" Ładowanie "),E={key:0,class:"lifes"},W={key:1,class:"popup-wrapper"},k={class:"popup"},M=Object(a["g"])("div",{class:"title"},"Sterowanie",-1),I=Object(a["g"])("div",null,"WASD - chodzenie",-1),L=Object(a["g"])("div",null,"SHIFT - bieganie",-1),_=Object(a["g"])("div",null,"SPACE - skok",-1),C={key:2,class:"game-over"},q={class:"game-over-box"},F=Object(a["g"])("div",{class:"title"},"Koniec gry",-1);Object(a["r"])();var T=D((function(e,t,n,o,i,r){return Object(a["q"])(),Object(a["d"])("div",R,[Object(a["E"])(Object(a["g"])("div",P,[Object(a["g"])("div",null,[z,Object(a["E"])(Object(a["g"])("span",null,Object(a["A"])(o.loading.loaded)+"/"+Object(a["A"])(o.loading.total),513),[[a["C"],o.loading.total]])]),Object(a["E"])(Object(a["g"])("div",null,Object(a["A"])(o.loading.progress)+"%",513),[[a["C"],o.loading.total]])],512),[[a["C"],o.loading.progress<100]]),o.lifes>0?(Object(a["q"])(),Object(a["d"])("div",E,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["x"])(o.lifes,(function(e,t){return Object(a["q"])(),Object(a["d"])("div",{class:"life",key:t})})),128))])):Object(a["e"])("",!0),o.popup&&100==o.loading.progress?(Object(a["q"])(),Object(a["d"])("div",W,[Object(a["g"])("div",k,[M,I,L,_,Object(a["g"])("button",{class:"close",onClick:t[1]||(t[1]=function(e){return o.popup=!1})},"X")])])):Object(a["e"])("",!0),o.gameOver?(Object(a["q"])(),Object(a["d"])("div",C,[Object(a["g"])("div",q,[F,Object(a["g"])("button",{onClick:t[2]||(t[2]=function(){return o.resetGame&&o.resetGame.apply(o,arguments)})},"Restart")])])):Object(a["e"])("",!0),Object(a["g"])("div",{class:["scene",{blur:o.loading.progress<100}],ref:"sceneRef"},null,2)])})),V=n("3191"),B=n.n(V);function G(e,t,n){var o=new g["qb"],i=new g["Lb"]({antialias:!0}),r=new g["cb"],c=Object(a["w"])(),s=[],d=new h["a"](r,i.domElement),l=1,u=window.innerWidth,f=window.innerHeight,v=1920,p=1080,b=(new g["k"],function(){r.aspect=u/f,r.updateProjectionMatrix(),i.setSize(u,f),i.setPixelRatio(Math.min(window.devicePixelRatio,2)*l)});return Object(a["o"])((function(){u=e.value.clientWidth,f=e.value.clientHeight,(u>v||f>p)&&(l=Math.min(v/u,p/f)),r.fov=60,r.aspect=u/f,r.near=1,r.far=300,r.position.set(t.x+n.x,t.y+n.y,t.z+n.z),r.updateProjectionMatrix(),i.setSize(u,f),i.setPixelRatio(Math.min(window.devicePixelRatio,2)*l),i.shadowMap.enabled=!0,i.shadowMap.type=g["bb"],e.value.appendChild(i.domElement),o.background=new g["l"](4502015),o.fog=new g["q"](4502015,100,300),window.addEventListener("resize",b);var a=new B.a;a.showPanel(0),document.body.appendChild(a.dom),d.enableDamping=!0,d.dampingFactor=.05,d.screenSpacePanning=!1,d.minDistance=30,d.maxDistance=30,d.maxPolarAngle=75*Math.PI/180,d.enablePan=!1,d.enableZoom=!1,d.target=t;var c=function(){i.render(o,r)},y=function e(){a.begin(),requestAnimationFrame(e),d.update(),s.forEach((function(e){e()})),c(),a.end()};y()})),Object(a["p"])((function(){window.removeEventListener("resize",b)})),{scene:o,renderer:i,camera:r,animateFunctions:s,animation:c,controls:d}}function H(e){Object(a["o"])((function(){var t=new g["t"](16777215,2236962,.5),n=new g["m"](16777215,.7);n.position.set(1,1.5,1).multiplyScalar(100),n.shadow.mapSize.setScalar(3072),n.shadow.bias=-.001,n.shadow.normalBias=.05,n.castShadow=!0;var a=n.shadow.camera;a.bottom=a.left=-300,a.top=300,a.right=300,e.add(t,n)}))}function Q(e,t,n){Object(a["o"])((function(){var a=new j["a"](n),o=new x["a"](e,t);a.addPass(o);var i=new K["a"](window.innerWidth*n.getPixelRatio(),window.innerHeight*n.getPixelRatio());a.addPass(i)}))}var J=n("9037"),N=n("fb71");function U(e,t,n,o,i){Object(a["o"])((function(){e.load(o,(function(e){var a=e.scene,o=new g["e"];o.setFromObject(a),o.getCenter(a.position).negate(),a.updateMatrixWorld(!0);var i={};a.traverse((function(e){if(e instanceof g["Q"]){var t=e.material.color.getHex();i[t]=i[t]||[],i[t].push(e),e.castShadow=!0,e.receiveShadow=!0,e.material.shadowSide=2}}));var r=new g["s"],c=function(e){var t=i[e],n=[];if(t.forEach((function(e){if(0!==e.material.emissive.r)r.attach(e);else{var t=e.geometry.clone();t.applyMatrix4(e.matrixWorld),n.push(t)}})),n.length){var a=J["a"].mergeBufferGeometries(n),o=new g["Q"](a,new g["T"]({color:16777215,opacity:0,transparent:!0,depthWrite:!1}));o.castShadow=!0,o.receiveShadow=!0,o.material.shadowSide=2,r.add(o)}};for(var s in i)c(s);var d=[];r.updateMatrixWorld(!0),r.traverse((function(e){if(e instanceof g["Q"]){var t=e.geometry.clone();for(var n in t.applyMatrix4(e.matrixWorld),t.attributes)"position"!==n&&t.deleteAttribute(n);d.push(t)}}));var l=J["a"].mergeBufferGeometries(d,!1);l.boundsTree=new N["a"](l,{lazyGeneration:!1});var u=new g["Q"](l);u.material.wireframe=!0,u.material.opacity=.5,u.material.transparent=!0,u.userData.name="collider",n[u.userData.name]=u;var f=new N["b"](u,1e3);f.visible=!0,t.add(a)}),void 0,(function(e){console.error(e)})),e.load(i,(function(e){var a=e.scene;a.userData.name="floor",a.visible=!1,t.add(a),n[a.userData.name]=a}),void 0,(function(e){console.error(e)}))}))}n("4c53");var X=n("1209");function Z(e,t,n,o,i,r,c,s,d,l,u,f,v,p,b,y,m,w,h){var O=new g["k"],j=!1,x=new g["e"],K=new g["P"],S=new g["B"],A=new g["Ib"],D=new g["Ib"],R=new g["Ib"](0,1,0),P=-2,z=new g["Ib"],E=Object(a["w"])(3),W=(new g["Ib"]).copy(y),k=null,M=function(e,t,n){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=t.find((function(e){return e.name===n})),c=e.clipAction(r);(c.setEffectiveTimeScale(o),i||c.time!=c.getClip().duration||c.reset(),i||c==k)||(j=!0,c.setLoop(g["L"],1),c.setEffectiveWeight(1).reset(),null===(a=k)||void 0===a||a.fadeOut(I(k,c)),k=c);j?k&&k.time/k.getClip().duration>=.75&&(j=!1,c.fadeIn(I(c,k)).reset(),k=c):(c.setEffectiveWeight(1),k=c)},I=function(e,t){var n=e.getClip().duration/e.getEffectiveTimeScale(),a=t.getClip().duration/t.getEffectiveTimeScale();return.25*a>n?n:.25*a},L=function(e,t,n){var a=t.find((function(e){return e.name===n})),o=e.clipAction(a);o.setEffectiveWeight(0)},_=function(){w.value=Object(X["a"])({targets:p.target,easing:"easeOutCirc",duration:2e3,complete:function(){w.value=null},x:n["Robot"].position.x,y:n["Robot"].position.y,z:n["Robot"].position.z})},C=function(){E.value=3;var e=n["Robot"];e.userData.velocity.set(0,0,0),e.position.set(W.x,W.y,W.z),setTimeout((function(){h.value=!1}),1e3)},q=function(){var e,t=n["collider"],a=.1,o=n["Robot"];0==o.userData.velocity.y&&z.set(o.position.x,o.position.y,o.position.z);var i=o.userData.speed;o.userData.velocity.y+=a*P,o.position.addScaledVector(o.userData.velocity,a);var r=2200==(null===(e=k)||void 0===e?void 0:e.loop),s=p.getAzimuthalAngle(),d=180*s/Math.PI,u=180*n["Robot"].rotation.y/Math.PI,f=u;!c(["ShiftLeft"])&&!l([7])||r||(i*=2),(c(["KeyW"],["KeyA","KeyS","KeyD"])||l([12],[13,14,15]))&&(A.set(0,0,-1).applyAxisAngle(R,s),o.position.addScaledVector(A,i*a),f=180+d),(c(["KeyA"],["KeyW","KeyS","KeyD"])||l([14],[12,13,15]))&&(A.set(-1,0,0).applyAxisAngle(R,s),o.position.addScaledVector(A,i*a),f=-90+d),(c(["KeyS"],["KeyW","KeyA","KeyD"])||l([13],[12,14,15]))&&(A.set(0,0,1).applyAxisAngle(R,s),o.position.addScaledVector(A,i*a),f=0+d),(c(["KeyD"],["KeyW","KeyA","KeyS"])||l([15],[12,13,14]))&&(A.set(1,0,0).applyAxisAngle(R,s),o.position.addScaledVector(A,i*a),f=90+d),(c(["KeyW","KeyA"])||l([12,14]))&&(A.set(-1,0,-1).applyAxisAngle(R,s),o.position.addScaledVector(A,i*a),f=-135+d),(c(["KeyW","KeyD"])||l([12,15]))&&(A.set(1,0,-1).applyAxisAngle(R,s),o.position.addScaledVector(A,i*a),f=135+d),(c(["KeyS","KeyA"])||l([13,14]))&&(A.set(-1,0,1).applyAxisAngle(R,s),o.position.addScaledVector(A,i*a),f=-45+d),(c(["KeyS","KeyD"])||l([13,15]))&&(A.set(1,0,1).applyAxisAngle(R,s),o.position.addScaledVector(A,i*a),f=45+d),o.rotation.y=f*(Math.PI/180),o.updateMatrixWorld();var v=4.5,b=2.35,y=v/2,m=V(n["Robot"]),w=(m.max.y,m.min.y,(new g["e"]).setFromObject(n["Robot"]),m.min.lerp(m.max,.5),new g["B"](new g["Ib"](0,0,0),new g["Ib"](0,0,0)));x.makeEmpty(),K.copy(t.matrixWorld).invert(),S.copy(w),S.start.applyMatrix4(o.matrixWorld).applyMatrix4(K),S.end.applyMatrix4(o.matrixWorld).applyMatrix4(K),x.expandByPoint(S.start),x.expandByPoint(S.end),x.min.sub(new g["Ib"](b/2,v/2,b/2)),x.max.sub(new g["Ib"](-b/2,-v/2,-b/2)),t.geometry.boundsTree.shapecast(t,(function(e){return e.intersectsBox(x)}),(function(e){var t=e.closestPointToSegment(S,A,D);if(t<y){var n=y-t,a=D.sub(A).normalize();S.start.addScaledVector(a,n),S.end.addScaledVector(a,n)}}));var O=A;O.copy(S.start).applyMatrix4(t.matrixWorld);var j=D;j.subVectors(O,o.position),o.position.copy(O),o.userData.isOnGround=j.y>Math.abs(a*o.userData.velocity.y*.25),o.userData.isOnGround?o.userData.velocity.set(0,0,0):(j.normalize(),o.userData.velocity.addScaledVector(j,-j.dot(o.userData.velocity))),o.position.y<-25&&(o.userData.velocity.set(0,0,0),o.position.set(z.x,z.y,z.z),E.value--,E.value<=0&&(h.value=!0)),_()},F=function(){if(i["Robot"]){if(s(["KeyW","KeyA","KeyS","KeyD"])||u([12,13,14,15])||f()){var e=1;(c(["ShiftLeft"])||l([7]))&&(e=2),M(i["Robot"],o["Robot"],"Robot_Running",e)}else L(i["Robot"],o["Robot"],"Robot_Running");(s(["Space"])||l([0]))&&(j||0==n["Robot"].userData.velocity.y&&(n["Robot"].userData.velocity.y=5))}},T=function(){for(var e in i)i[e].update(O.getDelta());if(n["Robot"]&&n["collider"]&&q(),Object.values(r).includes(!0)||j||d.value[0])q()},V=function(e){for(var t=new g["tb"](e),n=new g["Ib"](1/0,1/0,1/0),a=new g["Ib"](-1/0,-1/0,-1/0),o=0;o<t.bones.length;o++){var i=t.bones[o],r=new g["Ib"];i.getWorldPosition(r),r.x<n.x&&(n.x=r.x),r.y<n.y&&(n.y=r.y),r.z<n.z&&(n.z=r.z),r.x>a.x&&(a.x=r.x),r.y>a.y&&(a.y=r.y),r.z>a.z&&(a.z=r.z)}return{min:n,max:a}};return Object(a["o"])((function(){e.load(v,(function(e){var a=e.scene;a.traverse((function(e){e instanceof g["Q"]&&(e.castShadow=!0,e.receiveShadow=!0,e.material.shadowSide=2)})),a.userData.name="Robot",a.userData.isOnGround=!1,a.userData.velocity=new g["Ib"](0,0,0),a.userData.speed=1.5,a.position.set(y.x,y.y,y.z),t.add(a),n[a.userData.name]=a,o[a.userData.name]=e.animations,i[a.userData.name]=new g["b"](a),i[a.userData.name].addEventListener("finished",(function(e){j=!1,F()})),o[a.userData.name].forEach((function(e){i[a.userData.name].clipAction(e).setEffectiveWeight(0).play()}))}),void 0,(function(e){console.error(e)}))})),{robotRunning:F,toAnimate:T,lifes:E,resetGame:C}}function Y(e){var t=[],n=Object(a["w"])([]),o=function(t){e[t.code]=!1},i=function(t){e[t.code]=!0},r=function(e){console.log(e.gamepad.id,"podłączony")},c=function(e){console.log(e.gamepad.id,"odłączony")},s=function(){n.value=navigator.getGamepads()},d=function(){t.forEach((function(e){e()}))};window.addEventListener("keydown",i),window.addEventListener("keyup",o),window.addEventListener("gamepadconnected",r),window.addEventListener("gamepaddisconnected",c);var l=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t.every((function(t){return!0===e[t]}));if(n){var o=n.every((function(t){return!1===e[t]||void 0===e[t]}));return a&&o}return a},u=function(t){return t.some((function(t){return!0===e[t]}))},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.every((function(e){var t;return null===(t=n.value[0])||void 0===t?void 0:t.buttons[e].pressed}));if(t){var o=t.every((function(e){var t;return!(null!==(t=n.value[0])&&void 0!==t&&t.buttons[e].pressed)}));return a&&o}return a},v=function(){if(n.value[0]){var e,t,a=.3,o=null===(e=n.value[0])||void 0===e?void 0:e.axes[0],i=null===(t=n.value[0])||void 0===t?void 0:t.axes[1],r=180*Math.atan2(i,-o)/Math.PI,c={angle:r-90,x:o,z:i};if(Math.abs(o)>a||Math.abs(i)>a)return c}},p=function(e){return e.some((function(e){var t;return null===(t=n.value[0])||void 0===t?void 0:t.buttons[e].pressed}))};return Object(a["p"])((function(){window.removeEventListener("keydown",i),window.removeEventListener("keyup",o),window.removeEventListener("gamepadconnected",r),window.addEventListener("gamepaddisconnected",c)})),{testAllKeys:l,testAnyKeys:u,keysFunctions:t,checkPressedKeys:d,testAllButtons:f,testAnyButton:p,testAxis:v,checkPads:s,gamepads:n}}function $(e){var t=Object(a["v"])({loaded:0,total:0,progress:0});return Object(a["o"])((function(){e.onProgress=function(e,n,a){t.loaded=n,t.total=a,t.progress=Math.round(n/a*1e4)/100}})),{loading:t}}var ee=n("5f35"),te={setup:function(){var e=Object(a["w"])(!1),t=Object(a["w"])(!1),n=new g["Ib"](0,0,0),o=new g["Ib"](2.5,15,25),i=Object(a["w"])(null),r=G(i,n,o),c=r.scene,s=r.renderer,d=r.camera,l=r.animateFunctions,u=r.animation,f=r.controls;H(c),Q(c,d,s);var v=new g["K"],p=$(v),b=p.loading,y=new O["a"](v),m={};U(y,c,m,"".concat(ee["publicPath"],"islands/islands.gltf"),"".concat(ee["publicPath"],"islands/islands_physics.gltf"));var w={},h=Y(w),j=h.testAllKeys,x=h.testAnyKeys,K=h.keysFunctions,S=h.checkPressedKeys,A=h.testAllButtons,D=h.testAnyButton,R=h.testAxis,P=h.checkPads,z=h.gamepads;l.push(S,P);var E={},W={},k=Z(y,c,m,E,W,w,j,x,z,A,D,R,"".concat(ee["publicPath"],"Robot_edited_centered.glb"),f,d,n,o,u,t),M=k.robotRunning,I=k.toAnimate,L=k.lifes,_=k.resetGame;return l.push(I),K.push(M),{sceneRef:i,loading:b,popup:e,close:close,camera:d,animations:E,mixers:W,lifes:L,gameOver:t,resetGame:_}}};n("adfc");te.render=T,te.__scopeId="data-v-5afb34c0";var ne=te,ae=function(e){Object(u["a"])(n,e);var t=Object(f["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return n}(p["b"]);ae=Object(v["a"])([Object(p["a"])({components:{Scene:A,NewScene:ne}})],ae);var oe=ae;oe.render=d;var ie=oe,re=[{path:"/",name:"Home",component:ie}],ce=Object(s["a"])({history:Object(s["b"])("/brewery-town-public/"),routes:re}),se=ce,de=n("5502"),le=Object(de["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["c"])(c).use(le).use(se).mount("#app")},fb5c:function(e,t,n){},ff19:function(e,t,n){}});
//# sourceMappingURL=app.db4e3d54.js.map